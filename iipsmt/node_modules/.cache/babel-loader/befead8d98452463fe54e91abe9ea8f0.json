{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\React\\\\iipsmt\\\\src\\\\pages\\\\UploadTest\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport MainSheet from './index.module.css';\nimport icon_file from '../../static/icons/icon_file.png';\nimport icon_train from '../../static/icons/icon_train.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UploadTest extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleTrainClick = () => {\n      this.props.history.push('/test_result');\n      console.log(123); // console.log(data[0]);\n    };\n\n    this.handleFileUpload = e => {\n      var resultFile = e.target.files[0];\n\n      if (resultFile) {\n        var reader = new FileReader();\n        reader.readAsText(resultFile, 'UTF-8');\n\n        reader.onload = function () {\n          this.setState({\n            content: this.result,\n            fileName: e.target.value\n          });\n          console.log(this.result);\n        };\n      }\n    };\n\n    this.state = {\n      fileName: '未上传'\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: [MainSheet.pagePadding, 'zoomIn'].join(' '),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: MainSheet.pageContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: MainSheet.fileUploadModule,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: MainSheet.filePath,\n            children: this.state.fileName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file\",\n            className: MainSheet.fileUploadLable,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: MainSheet.btnIcon,\n              src: icon_file,\n              alt: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 22,\n              columnNumber: 29\n            }, this), \"\\u9009\\u62E9\\u6D4B\\u8BD5\\u96C6\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: MainSheet.modelTraining,\n            onClick: () => this.handleTrainClick(),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: MainSheet.btnIcon,\n              src: icon_train,\n              alt: \"train\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 109\n            }, this), \"\\u8BAD\\u7EC3\\u6A21\\u578B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"file\",\n            className: MainSheet.fileUpload,\n            type: \"file\",\n            onChange: e => this.handleFileUpload(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: MainSheet.fileOverview,\n          children: this.state.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/Project/React/iipsmt/src/pages/UploadTest/index.jsx"],"names":["React","Component","MainSheet","icon_file","icon_train","UploadTest","constructor","props","handleTrainClick","history","push","console","log","handleFileUpload","e","resultFile","target","files","reader","FileReader","readAsText","onload","setState","content","result","fileName","value","state","render","pagePadding","join","pageContainer","fileUploadModule","filePath","fileUploadLable","btnIcon","modelTraining","fileUpload","fileOverview"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AAEA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,UAAP,MAAuB,mCAAvB;;AAEA,eAAe,MAAMC,UAAN,SAAyBJ,SAAzB,CAAmC;AAC9CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SA0BnBC,gBA1BmB,GA0BA,MAAM;AACrB,WAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,cAAxB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAFqB,CAGrB;AACH,KA9BkB;;AAAA,SAgCnBC,gBAhCmB,GAgCCC,CAAD,IAAO;AACtB,UAAIC,UAAU,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAjB;;AACA,UAAIF,UAAJ,EAAgB;AACZ,YAAIG,MAAM,GAAG,IAAIC,UAAJ,EAAb;AACAD,QAAAA,MAAM,CAACE,UAAP,CAAkBL,UAAlB,EAA8B,OAA9B;;AACAG,QAAAA,MAAM,CAACG,MAAP,GAAgB,YAAU;AACtB,eAAKC,QAAL,CAAc;AACVC,YAAAA,OAAO,EAAE,KAAKC,MADJ;AAEVC,YAAAA,QAAQ,EAAGX,CAAC,CAACE,MAAF,CAASU;AAFV,WAAd;AAIAf,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKY,MAAjB;AAEH,SAPD;AAQH;AACJ,KA9CkB;;AAEf,SAAKG,KAAL,GAAa;AACTF,MAAAA,QAAQ,EAAE;AADD,KAAb;AAGH;;AAEDG,EAAAA,MAAM,GAAG;AACL,wBACI;AAAK,MAAA,SAAS,EAAE,CAAC1B,SAAS,CAAC2B,WAAX,EAAwB,QAAxB,EAAkCC,IAAlC,CAAuC,GAAvC,CAAhB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAE5B,SAAS,CAAC6B,aAA1B;AAAA,gCACI;AAAK,UAAA,SAAS,EAAE7B,SAAS,CAAC8B,gBAA1B;AAAA,kCACI;AAAK,YAAA,SAAS,EAAE9B,SAAS,CAAC+B,QAA1B;AAAA,sBAAqC,KAAKN,KAAL,CAAWF;AAAhD;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,OAAO,EAAC,MAAf;AAAsB,YAAA,SAAS,EAAEvB,SAAS,CAACgC,eAA3C;AAAA,oCACI;AAAK,cAAA,SAAS,EAAEhC,SAAS,CAACiC,OAA1B;AAAmC,cAAA,GAAG,EAAEhC,SAAxC;AAAmD,cAAA,GAAG,EAAC;AAAvD;AAAA;AAAA;AAAA;AAAA,oBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ,eAMI;AAAQ,YAAA,SAAS,EAAED,SAAS,CAACkC,aAA7B;AAA4C,YAAA,OAAO,EAAE,MAAM,KAAK5B,gBAAL,EAA3D;AAAA,oCAAoF;AAAK,cAAA,SAAS,EAAEN,SAAS,CAACiC,OAA1B;AAAmC,cAAA,GAAG,EAAE/B,UAAxC;AAAoD,cAAA,GAAG,EAAC;AAAxD;AAAA;AAAA;AAAA;AAAA,oBAApF;AAAA;AAAA;AAAA;AAAA;AAAA,kBANJ,eAOI;AAAO,YAAA,EAAE,EAAC,MAAV;AAAiB,YAAA,SAAS,EAAEF,SAAS,CAACmC,UAAtC;AAAkD,YAAA,IAAI,EAAC,MAAvD;AAA8D,YAAA,QAAQ,EAAGvB,CAAD,IAAO,KAAKD,gBAAL,CAAsBC,CAAtB;AAA/E;AAAA;AAAA;AAAA;AAAA,kBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAUI;AAAK,UAAA,SAAS,EAAEZ,SAAS,CAACoC,YAA1B;AAAA,oBAAyC,KAAKX,KAAL,CAAWJ;AAApD;AAAA;AAAA;AAAA;AAAA,gBAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAgBH;;AAzB6C","sourcesContent":["import React, { Component } from 'react'\r\nimport MainSheet from './index.module.css'\r\n\r\nimport icon_file from '../../static/icons/icon_file.png'\r\nimport icon_train from '../../static/icons/icon_train.png'\r\n\r\nexport default class UploadTest extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            fileName: '未上传',\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={[MainSheet.pagePadding, 'zoomIn'].join(' ')}>\r\n                <div className={MainSheet.pageContainer}>\r\n                    <div className={MainSheet.fileUploadModule}>\r\n                        <div className={MainSheet.filePath}>{this.state.fileName}</div>\r\n                        <label htmlFor=\"file\" className={MainSheet.fileUploadLable}>\r\n                            <img className={MainSheet.btnIcon} src={icon_file} alt=\"file\" />\r\n                            选择测试集\r\n                        </label>\r\n                        <button className={MainSheet.modelTraining} onClick={() => this.handleTrainClick()}><img className={MainSheet.btnIcon} src={icon_train} alt=\"train\" />训练模型</button>\r\n                        <input id='file' className={MainSheet.fileUpload} type=\"file\" onChange={(e) => this.handleFileUpload(e)} />\r\n                    </div>\r\n                    <div className={MainSheet.fileOverview}>{this.state.content}</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleTrainClick = () => {\r\n        this.props.history.push('/test_result')\r\n        console.log(123);\r\n        // console.log(data[0]);\r\n    }\r\n\r\n    handleFileUpload = (e) => {\r\n        var resultFile = e.target.files[0];\r\n        if (resultFile) {\r\n            var reader = new FileReader();\r\n            reader.readAsText(resultFile, 'UTF-8');\r\n            reader.onload = function(){\r\n                this.setState({\r\n                    content: this.result,\r\n                    fileName : e.target.value\r\n                })\r\n                console.log(this.result);\r\n               \r\n            };\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}