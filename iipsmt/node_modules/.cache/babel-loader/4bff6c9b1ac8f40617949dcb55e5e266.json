{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\React\\\\iipsmt\\\\src\\\\pages\\\\UploadTest\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport MainSheet from './index.module.css';\nimport icon_file from '../../static/icons/icon_file.png';\nimport icon_train from '../../static/icons/icon_train.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class UploadTest extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleTrainClick = () => {\n      this.props.history.push('/test_result');\n      console.log(123); // console.log(data[0]);\n    };\n\n    this.handleFileUpload = e => {\n      var resultFile = e.target.files[0];\n      console.log(this.getObjectUrl(resultFile));\n\n      if (resultFile) {\n        var reader = new FileReader();\n        reader.readAsText(resultFile, 'UTF-8');\n\n        reader.onload = function (e) {\n          var urlData = this.result;\n          console.log(urlData);\n        };\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: [MainSheet.pagePadding, 'zoomIn'].join(' '),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: MainSheet.pageContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: MainSheet.fileUploadModule,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: MainSheet.filePath,\n            children: \"D:\\\\Program Files\\\\Git\\\\mingw64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 13,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file\",\n            className: MainSheet.fileUploadLable,\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: MainSheet.btnIcon,\n              src: icon_file,\n              alt: \"file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 15,\n              columnNumber: 29\n            }, this), \"\\u9009\\u62E9\\u6D4B\\u8BD5\\u96C6\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 14,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: MainSheet.modelTraining,\n            onClick: () => this.handleTrainClick(),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              className: MainSheet.btnIcon,\n              src: icon_train,\n              alt: \"train\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 18,\n              columnNumber: 109\n            }, this), \"\\u8BAD\\u7EC3\\u6A21\\u578B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 18,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"file\",\n            className: MainSheet.fileUpload,\n            type: \"file\",\n            onChange: e => this.handleFileUpload(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 19,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: MainSheet.fileOverview,\n          children: \"\\u6587\\u4EF6\\u9884\\u89C8\\u533A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 13\n    }, this);\n  }\n\n  getObjectUrl(file) {\n    let url = null;\n\n    if (window.createObjectURL != undefined) {\n      // basic\n      url = window.createObjectURL(file);\n    } else if (window.webkitURL != undefined) {\n      // webkit or chrome\n      url = window.webkitURL.createObjectURL(file);\n    } else if (window.URL != undefined) {\n      // mozilla(firefox)\n      url = window.URL.createObjectURL(file);\n    }\n\n    return url;\n  }\n\n}","map":{"version":3,"sources":["D:/Project/React/iipsmt/src/pages/UploadTest/index.jsx"],"names":["React","Component","MainSheet","icon_file","icon_train","UploadTest","handleTrainClick","props","history","push","console","log","handleFileUpload","e","resultFile","target","files","getObjectUrl","reader","FileReader","readAsText","onload","urlData","result","render","pagePadding","join","pageContainer","fileUploadModule","filePath","fileUploadLable","btnIcon","modelTraining","fileUpload","fileOverview","file","url","window","createObjectURL","undefined","webkitURL","URL"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport MainSheet from './index.module.css'\r\n\r\nimport icon_file from '../../static/icons/icon_file.png'\r\nimport icon_train from '../../static/icons/icon_train.png'\r\n\r\nexport default class UploadTest extends Component {\r\n    render() {\r\n        return (\r\n            <div className={[MainSheet.pagePadding, 'zoomIn'].join(' ')}>\r\n                <div className={MainSheet.pageContainer}>\r\n                    <div className={MainSheet.fileUploadModule}>\r\n                        <div className={MainSheet.filePath}>D:\\Program Files\\Git\\mingw64</div>\r\n                        <label htmlFor=\"file\" className={MainSheet.fileUploadLable}>\r\n                            <img className={MainSheet.btnIcon} src={icon_file} alt=\"file\" />\r\n                            选择测试集\r\n                        </label>\r\n                        <button className={MainSheet.modelTraining} onClick={() => this.handleTrainClick()}><img className={MainSheet.btnIcon} src={icon_train} alt=\"train\" />训练模型</button>\r\n                        <input id='file' className={MainSheet.fileUpload} type=\"file\" onChange={(e) => this.handleFileUpload(e)} />\r\n                    </div>\r\n                    <div className={MainSheet.fileOverview}>文件预览区</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleTrainClick = () => {\r\n        this.props.history.push('/test_result')\r\n        console.log(123);\r\n        // console.log(data[0]);\r\n    }\r\n\r\n    handleFileUpload = (e) => {\r\n        var resultFile = e.target.files[0];\r\n        console.log(this.getObjectUrl(resultFile));\r\n        if (resultFile) {\r\n            var reader = new FileReader();\r\n\r\n            reader.readAsText(resultFile, 'UTF-8');\r\n            reader.onload = function (e) {\r\n                var urlData = this.result;\r\n                console.log(urlData);\r\n            };\r\n        }\r\n    }\r\n\r\n\r\n    getObjectUrl(file) {\r\n        let url = null;\r\n        if (window.createObjectURL != undefined) {\r\n            // basic\r\n            url = window.createObjectURL(file);\r\n        } else if (window.webkitURL != undefined) {\r\n            // webkit or chrome\r\n            url = window.webkitURL.createObjectURL(file);\r\n        } else if (window.URL != undefined) {\r\n            // mozilla(firefox)\r\n            url = window.URL.createObjectURL(file);\r\n        }\r\n        return url;\r\n    }\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}