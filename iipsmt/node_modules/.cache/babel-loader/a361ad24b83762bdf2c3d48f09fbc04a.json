{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project\\\\React\\\\iipsmt\\\\src\\\\pages\\\\NavigationBar\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport MainSheet from './index.module.css';\nimport Login from '../../components/Login';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class NavigationBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: false\n    };\n    this.user = '登录 / 注册';\n    this.login = false;\n\n    if (document.cookie.length) {\n      this.user = document.cookie.split('=')[1];\n      this.login = true;\n    }\n  }\n\n  render() {\n    const {\n      login\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: MainSheet.barContainer,\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        className: MainSheet.style_logo,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/\",\n          children: \"IIPSMT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/about_module\",\n          children: \"\\u6A21\\u578B\\u4E0E\\u7CFB\\u7EDF\\u4ECB\\u7ECD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/about_team\",\n          children: \"\\u961F\\u5458\\u4ECB\\u7ECD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: MainSheet.btn_language,\n        onClick: NavigationBar.handleLoginClick,\n        children: this.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), login ? /*#__PURE__*/_jsxDEV(Login, {\n        handleBGClick: this.handleLoginClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 26\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nNavigationBar.handleLoginClick = () => {\n  if (NavigationBar.login) {\n    alert('账号已退出');\n    var myDate = new Date();\n    myDate.setTime(-1000); //设置时间 \n\n    document.cookie = \"user=''; expires=\" + myDate.toGMTString();\n    NavigationBar.user = '登录 / 注册';\n    NavigationBar.login = false;\n    NavigationBar.setState({});\n  } else {\n    const {\n      login\n    } = NavigationBar.state;\n    NavigationBar.setState({\n      login: !login\n    });\n  }\n};","map":{"version":3,"sources":["D:/Project/React/iipsmt/src/pages/NavigationBar/index.jsx"],"names":["React","Component","Link","MainSheet","Login","NavigationBar","constructor","props","state","login","user","document","cookie","length","split","render","barContainer","style_logo","btn_language","handleLoginClick","alert","myDate","Date","setTime","toGMTString","setState"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AAEA,OAAOC,KAAP,MAAkB,wBAAlB;;AAEA,eAAe,MAAMC,aAAN,SAA4BJ,SAA5B,CAAsC;AAIjDK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAHnBC,KAGmB,GAHX;AACJC,MAAAA,KAAK,EAAE;AADH,KAGW;AAEf,SAAKC,IAAL,GAAY,SAAZ;AACA,SAAKD,KAAL,GAAa,KAAb;;AACA,QAAIE,QAAQ,CAACC,MAAT,CAAgBC,MAApB,EAA4B;AACxB,WAAKH,IAAL,GAAYC,QAAQ,CAACC,MAAT,CAAgBE,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAZ;AACA,WAAKL,KAAL,GAAa,IAAb;AACH;AAEJ;;AAEDM,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEN,MAAAA;AAAF,QAAY,KAAKD,KAAvB;AACA,wBACI;AAAI,MAAA,SAAS,EAAEL,SAAS,CAACa,YAAzB;AAAA,8BACI;AAAI,QAAA,SAAS,EAAEb,SAAS,CAACc,UAAzB;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAA,+BAAK,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,eAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,+BAAK,QAAC,IAAD;AAAM,UAAA,EAAE,EAAC,aAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAI,QAAA,SAAS,EAAEd,SAAS,CAACe,YAAzB;AAAuC,QAAA,OAAO,EAAEb,aAAa,CAACc,gBAA9D;AAAA,kBAAiF,KAAKT;AAAtF;AAAA;AAAA;AAAA;AAAA,cANJ,EAOKD,KAAK,gBAAG,QAAC,KAAD;AAAO,QAAA,aAAa,EAAE,KAAKU;AAA3B;AAAA;AAAA;AAAA;AAAA,cAAH,GAAqD,EAP/D;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AA5BgD;;AAAhCd,a,CA8BVc,gB,GAAmB,MAAM;AAC5B,MA/Bad,aA+BT,CAAKI,KAAT,EAAgB;AACZW,IAAAA,KAAK,CAAC,OAAD,CAAL;AACA,QAAIC,MAAM,GAAG,IAAIC,IAAJ,EAAb;AACAD,IAAAA,MAAM,CAACE,OAAP,CAAe,CAAC,IAAhB,EAHY,CAGU;;AACtBZ,IAAAA,QAAQ,CAACC,MAAT,GAAkB,sBAAsBS,MAAM,CAACG,WAAP,EAAxC;AAnCSnB,IAAAA,aAoCT,CAAKK,IAAL,GAAY,SAAZ;AApCSL,IAAAA,aAqCT,CAAKI,KAAL,GAAa,KAAb;AArCSJ,IAAAA,aAsCT,CAAKoB,QAAL,CAAc,EAAd;AACH,GARD,MAQO;AACH,UAAM;AAAEhB,MAAAA;AAAF,QAxCGJ,aAwCS,CAAKG,KAAvB;AAxCSH,IAAAA,aAyCT,CAAKoB,QAAL,CAAc;AACVhB,MAAAA,KAAK,EAAE,CAACA;AADE,KAAd;AAGH;AAEJ,C","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport MainSheet from './index.module.css'\r\n\r\nimport Login from '../../components/Login'\r\n\r\nexport default class NavigationBar extends Component {\r\n    state = {\r\n        login: false\r\n    }\r\n    constructor(props) {\r\n        super(props)\r\n        this.user = '登录 / 注册'\r\n        this.login = false;\r\n        if (document.cookie.length) {\r\n            this.user = document.cookie.split('=')[1];\r\n            this.login = true;\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        const { login } = this.state;\r\n        return (\r\n            <ul className={MainSheet.barContainer}>\r\n                <li className={MainSheet.style_logo} >\r\n                    <Link to='/'>IIPSMT</Link>\r\n                </li>\r\n                <li ><Link to='/about_module'>模型与系统介绍</Link></li>\r\n                <li ><Link to='/about_team'>队员介绍</Link></li>\r\n                <li className={MainSheet.btn_language} onClick={NavigationBar.handleLoginClick}>{this.user}</li>\r\n                {login ? <Login handleBGClick={this.handleLoginClick} /> : ''}\r\n            </ul>\r\n        )\r\n    }\r\n\r\n    static handleLoginClick = () => {\r\n        if (this.login) {\r\n            alert('账号已退出')\r\n            var myDate = new Date();\r\n            myDate.setTime(-1000);//设置时间 \r\n            document.cookie = \"user=''; expires=\" + myDate.toGMTString();\r\n            this.user = '登录 / 注册';\r\n            this.login = false\r\n            this.setState({})\r\n        } else {\r\n            const { login } = this.state;\r\n            this.setState({\r\n                login: !login\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}